name: Train Model - Tá»± Ä‘á»™ng Training

on:
  schedule:
    - cron: '0 2 * * 0'  # Cháº¡y má»—i Chá»§ nháº­t lÃºc 2 giá» sÃ¡ng
  workflow_dispatch:
    inputs:
      epochs:
        description: 'Sá»‘ epochs'
        required: false
        default: '50'

jobs:
  train:
    name: Training Model
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: CÃ i Ä‘áº·t Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - name: CÃ i Ä‘áº·t dependencies
        run: |
          pip install -r requirements.txt

      - name: Kiá»ƒm tra data
        run: |
          echo "ğŸ“‚ Checking data..."
          if [ -d "train" ] && [ -d "validation" ]; then
            echo "âœ… Data directories exist"
          else
            echo "âŒ Data missing"
            exit 1
          fi

      - name: Train model
        run: |
          echo "ğŸš‚ Training model..."
          # python src/train.py --epochs ${{ github.event.inputs.epochs || '50' }}
          echo "âš ï¸ Uncomment command trÃªn Ä‘á»ƒ train tháº­t"
          echo "âœ… Training script ready"

      - name: Upload model
        uses: actions/upload-artifact@v3
        with:
          name: trained-model
          path: models/
          retention-days: 30
